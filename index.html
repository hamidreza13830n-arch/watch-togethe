<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Watch Together</title>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<style>
*{box-sizing:border-box;margin:0;padding:0}

html,body{
height:100%;
}

body{
font-family:Arial;
background:#0b0b12;
color:white;
display:flex;
flex-direction:column;
min-height:100dvh; /* ðŸ”¥ Ù…Ù‡Ù… */
}

/* HEADER */
header{
height:42px;
flex-shrink:0;
display:flex;
justify-content:space-between;
align-items:center;
padding:0 12px;
background:#14141c;
}

/* MAIN */
.main{
flex:1;
display:flex;
flex-direction:column;
padding:8px;
gap:8px;
overflow:hidden;
}

/* VIDEO */
.video-container{
flex:0 0 40%;
background:#1c1c26;
border-radius:16px;
padding:10px;
display:flex;
flex-direction:column;
}

video{
width:100%;
flex:1;
border-radius:12px;
}

/* CHAT */
.chat-container{
flex:1;
background:#1c1c26;
border-radius:16px;
padding:10px;
display:flex;
flex-direction:column;
min-height:0;
}

.chat-box{
flex:1;
overflow-y:auto;
display:flex;
flex-direction:column;
gap:6px;
}

/* MESSAGE */
.message{
padding:8px 10px;
border-radius:14px;
max-width:75%;
font-size:14px;
background:#2a2a32;
}

/* INPUT */
.input-area{
display:flex;
gap:6px;
margin-top:6px;
flex-shrink:0; /* ðŸ”¥ Ù…Ù‡Ù… */
}

.input-area input{
flex:1;
padding:10px;
border-radius:12px;
border:none;
font-size:16px; /* ðŸ”¥ Ø¨Ø§Ø¹Ø« Ù…ÛŒØ´Ù‡ Ø²ÙˆÙ… Ù†Ø´Ù‡ */
}

.input-area button{
padding:10px 12px;
border:none;
border-radius:12px;
background:#e50914;
color:white;
}

/* LANDSCAPE */
@media (orientation:landscape){
.main{flex-direction:row}
.video-container{flex:0 0 60%}
}
</style>
</head>

<body>

<header>
<span>ðŸŽ¬ Watch Together</span>
<span id="online">Online: 1</span>
</header>

<div class="main">

<div class="video-container">
<video id="video" controls></video>
</div>

<div class="chat-container">
<div class="chat-box" id="chat"></div>
<div class="input-area">
<input id="msg" placeholder="Ø§ÛŒÙ†Ø¬Ø§ ØªØ§ÛŒÙ¾ Ú©Ù†...">
<button onclick="send()">Send</button>
</div>
</div>

</div>

<script>
var firebaseConfig={
apiKey:"AIzaSyCDHmmKIYPHDyvx4BXTb-7VP6lmVb8BCYw",
authDomain:"film-online-922c1.firebaseapp.com",
databaseURL:"https://film-online-922c1-default-rtdb.firebaseio.com/",
projectId:"film-online-922c1"
};
firebase.initializeApp(firebaseConfig);
var db=firebase.database();

function send(){
var text=msg.value;
if(!text)return;
db.ref("chat").push({text:text});
msg.value="";
}

db.ref("chat").on("child_added",snap=>{
var div=document.createElement("div");
div.className="message";
div.innerText=snap.val().text;
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
});
</script>

</body>
</html>
